


<!-- Navigation -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html"><img class="menu-logo" src="./img/logo/joeLogo.png"> </a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#!/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-warning" href="#!/allEvents">Events</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/login" ng-show="!model.loggedUser">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="" ng-click="model.logout()" ng-show="model.loggedUser">Logout</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/profile" ng-show="model.loggedUser">Profile</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#!/contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
<!-- /Navigation -->


<div class="container aws-margin10">
	<h1 class="text-danger">Event details:</h1>
	<hr>

	<!-- <div class="alert alert-danger" role="alert" ng-show="model.error1">
  		<p>{{model.error1}}</p>
  		<a href="#!/login" class="alert-link">Login / Register</a>
	</div> -->
	<!-- <div class="alert alert-danger" role="alert" ng-show="model.error2">
  		<p>{{model.error2}}</p>
	</div> -->
	

	<!-- Event Image -->
  <img class="img-fluid rounded mb-4" ng-src="{{model.eventDetails.images.img1200x300}}" alt="">
  <h3>Event Name: </h3>
	<p>{{model.eventDetails.name}}</p>
	<h3>Event Category: </h3>
	<p>{{model.eventDetails.category}}</p>
	<h3>Event Sub-Category: </h3>
	<p>{{model.eventDetails.subcategory}}</p>
	<h3>Event Details: </h3>
	<p>{{model.eventDetails.details}}</p>
	<h3>Start date: </h3>
	<p>{{model.eventDetails.startingDate | date}}</p>
	<h3>End date: </h3>
	<p>{{model.eventDetails.expiryDate | date}}</p>
  <h3>Members:</h3>
  <table>
    <thead>
      <th>Name</th>
      <th>Email</th>
      <th>Total of payments</th>
      <th>Balance</th>
      <th>Payments</th>
    </thead>
    <tr ng-repeat="user in model.eventDetails.registeredMembers">
      <td>{{user.name.firstName}} {{user.name.middleName}} {{user.name.lastName}}</td>
      <td>{{user.email}}</td>
      <td>
        {{model.getTotals(user).total}}
      </td>
      <td>{{model.getTotals(user).balance}}</td>
      <td></td>
      <td>
        <form>
          <!-- <input type="text" name="eventId" ng-model="model.eventDetails._id"> -->
          <input type="date" name="dateOfpayment" ng-model="payment.dateOfpayment">
          <input type="text" name="amount" ng-model="payment.amount">
          <input type="submit" name="makePayment" ng-click="model.makePayment(user._id, model.eventDetails._id, payment)">
        </form>
        <!-- modal -->
          <button type="button" class="btn btn-info" data-toggle="modal" data-target="#paymentsModal">Open Modal</button>

          <div class="modal fade" id="paymentsModal" role="dialog">
            <div class="modal-dialog">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Modal Header</h4>
                </div>
                <div class="modal-body">
                  <p>Some text in the modal.</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
              
            </div>
          </div>

        <!-- end of modal -->

      </td>
    </tr>
  </table>
  <!-- <p ng-repeat="user in model.eventDetails.registeredMembers"></p> -->
	<br>

	<!-- <a href="" class="btn btn-lg btn-success" ng-click="model.eventRegistration(model.eventDetails)">Register</a> -->
	<a href="#!/makerProfile" class="btn btn-lg btn-danger">Cancel</a>

</div>